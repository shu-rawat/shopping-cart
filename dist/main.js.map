{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/cart/cartView.js","webpack:///./src/cart/cartItem.js","webpack:///./src/cart/cartModel.js","webpack:///./src/cart/cartController.js","webpack:///./src/main.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","cartElements","getCartCountEls","document","getElementsByClassName","getAddItemBtnEls","getRemoveItemBtnEls","getItemCountEl","cartItemId","els","querySelector","getItemTotalAmountEl","getItemId","el","closest","getAttribute","cartTotalAmtEl","cartView","updateCartTotalCount","cartTotalItems","Array","from","cartCountEl","textContent","updateCartTotalAmount","cartAmount","updateCartItemCount","itemCount","updateCartItemAmount","itemPrice","Item","id","price","quantity","this","increaseCount","decreaseCount","getTotalAmount","CartModel","products","items","readStorage","addItemCount","item","getItem","product","findProductById","alert","push","saveCart","reduce","sum","getTotalQty","removeItemCount","removeItem","itemIndex","findIndex","splice","find","localStorage","setItem","JSON","stringify","getSavedCart","itemsString","parse","cartModel","eventListeners","addItemElListener","addItemEl","addEventListener","e","target","updateCartUI","removeItemElListener","removeItemEl","cartItem","itemTotalCount","itemTotalAmount","cartTotalCount","cartTotalAmount","window","onload","addItemEls","removeItemEls","__webpack_exports__"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","export const cartElements = {\r\n    getCartCountEls:function(){\r\n        return document.getElementsByClassName(\"js-cart-count\")\r\n    },\r\n    getAddItemBtnEls:function(){\r\n        return document.getElementsByClassName(\"js-add-item\");\r\n    },\r\n    getRemoveItemBtnEls:function(){\r\n        return document.getElementsByClassName(\"js-remove-item\");\r\n    },\r\n    getItemCountEl:function(cartItemId){\r\n        let els = document.querySelector(`.js-item-wrapper[data-item-id='${cartItemId}'] .js-item-count`);\r\n        return els?els[0]:null;\r\n    },\r\n    getItemTotalAmountEl:function(cartItemId){\r\n        let els = document.querySelector(`.js-item-wrapper[data-item-id='${cartItemId}'] .js-item-total`);\r\n        return els?els[0]:null;   \r\n    },\r\n    getItemId:function(el){\r\n        return el.closest(`.js-item-wrapper`).getAttribute(\"data-item-id\");\r\n    },\r\n    cartTotalAmtEl:function(){\r\n        let el = document.getElementsByClassName(\"js-cart-final\");\r\n        return el?el[0]:null;\r\n    }\r\n}\r\n\r\n\r\nexport const cartView = (function(){\r\n    return {\r\n        updateCartTotalCount: function(cartTotalItems){            \r\n            Array.from(cartElements.getCartCountEls(),(cartCountEl)=>{\r\n                cartCountEl.textContent = cartTotalItems;\r\n            });                   \r\n        },\r\n        updateCartTotalAmount: function(cartAmount){\r\n            cartElements.cartTotalAmtEl.textContent = cartAmount;\r\n        },\r\n        updateCartItemCount: function(cartItemId,itemCount){\r\n            let el = cartElements.getItemCountEl(cartItemId);\r\n            el?el.textContent = itemCount:null;\r\n        },\r\n        updateCartItemAmount: function(cartItemId,itemPrice){\r\n            let el = cartElements.getItemTotalAmountEl(cartItemId);\r\n            el?el.textContent = itemPrice:null;\r\n        }\r\n    }\r\n})();","export default function Item(id,price,quantity=0){\r\n    this.id = id;   // item unique id\r\n    this.price = price;    // individual item  price\r\n    this.quantity = quantity;  // item quantity\r\n}\r\n\r\n\r\n//increases item count and returns updated item count\r\nItem.prototype.increaseCount = function(){\r\n    ++this.quantity;\r\n    return this.quantity;\r\n}\r\n\r\n//decreases item count and returns updated item count\r\nItem.prototype.decreaseCount = function(){\r\n    --this.quantity;\r\n    return this.quantity;\r\n}\r\n\r\n\r\n//returns total price of item based on number of item and price\r\nItem.prototype.getTotalAmount = function(){\r\n    return this.price*this.quantity;\r\n}\r\n\r\n","import Item from './cartItem';\r\nimport products from '../../server/products/index.get.json';\r\n\r\n\r\nexport default function CartModel(){\r\n    this.products = products; // all products list\r\n    this.items = []; //cart items list\r\n    //reads local storage for saved cart items\r\n    this.readStorage();\r\n}\r\n\r\nCartModel.prototype.addItemCount = function(id){\r\n    //finding item from cart.    \r\n    let item = this.getItem(id);\r\n    if(!item){\r\n        //item not present in cart\r\n        //finding product by it's id in product list\r\n        let product = this.findProductById(id);\r\n        if(!product){\r\n            //item with particular id not present in products list\r\n            alert(\"Sorry could not find this product!\"); \r\n            return;          \r\n        }\r\n        else{\r\n            //item created and added to cart\r\n            item = new Item(id,product.price,1);\r\n            debugger;\r\n            this.items.push(item);\r\n        }\r\n    }\r\n    else{\r\n        // item present in cart\r\n        item.increaseCount();    \r\n    }\r\n    this.saveCart();\r\n    return item;\r\n}\r\n\r\nCartModel.prototype.getTotalAmount = function(){\r\n    //returns total amount of cart\r\n    return this.items.reduce((sum,item)=>{\r\n        return  sum+item.getTotalAmount();\r\n    },0);\r\n}\r\n\r\nCartModel.prototype.getTotalQty = function(){\r\n    //return total number of items quanity present in cart\r\n    return this.items.reduce((sum,item)=>sum+item.quantity,0);\r\n}\r\n\r\nCartModel.prototype.removeItemCount = function(id){\r\n    //finding item in cart\r\n    let item = this.getItem(id);\r\n    if(!item){\r\n        //item not found in cart\r\n        alert(\"Can not remove. Item not found in cart!\");\r\n        return;\r\n    }\r\n    else{\r\n        //decreases item count and removes item from cart if  quantiy is 0\r\n        if(item.decreaseCount() == 0){\r\n            this.removeItem(item.id);\r\n        }\r\n    }\r\n    this.saveCart();\r\n    return item;\r\n}\r\n\r\nCartModel.prototype.removeItem = function(id){\r\n    //finding index of item in items array\r\n    let itemIndex = this.items.findIndex((item)=>{\r\n        return item.id == id;\r\n    });\r\n    \r\n    if(itemIndex >= 0){\r\n        //removing item from items.\r\n        this.items.splice(itemIndex,1);\r\n    }\r\n    else{\r\n        alert(\"Item Not found in Cart. Can't remove\");\r\n    }\r\n}\r\n\r\nCartModel.prototype.getItem = function(id){\r\n    return this.items.find((item)=>item.id == id);\r\n}\r\n\r\nCartModel.prototype.findProductById = function(id){\r\n    return this.products.find(product=>product.id==id);\r\n}\r\n\r\nCartModel.prototype.saveCart = function(){\r\n    localStorage.setItem(\"items\",JSON.stringify(this.items));\r\n}\r\n\r\nCartModel.prototype.getSavedCart = function(){\r\n    let itemsString = localStorage.getItem(\"items\");\r\n    let items  = JSON.parse(itemsString);\r\n    if(!items){\r\n        items = [];\r\n    }   \r\n    return items;\r\n}\r\n\r\nCartModel.prototype.readStorage = function(){\r\n    this.items = this.getSavedCart();\r\n}\r\n","\r\nimport { cartElements, cartView } from './cartView.js';\r\nimport CartModel from './cartModel.js';\r\n\r\nlet cartModel = new CartModel();\r\n\r\n(function(){\r\n    let eventListeners = {\r\n        addItemElListener : function(addItemEl){\r\n            let test = addItemEl;\r\n            addItemEl.addEventListener(\"click\",function(e){\r\n                let cartItemId = cartElements.getItemId(e.target);\r\n                let cartItem = cartModel.addItemCount(cartItemId);\r\n                updateCartUI(cartItem);\r\n            });\r\n        },\r\n        removeItemElListener : function(removeItemEl){\r\n            removeItemEl.addEventListener(\"click\",function(e){\r\n                let cartItemId = cartElements.getItemId(e.target);\r\n                let cartItem = cartModel.removeItemCount(cartItemId);\r\n                updateCartUI(cartItem);\r\n            });\r\n        }\r\n    }\r\n\r\n    window.onload = function(){        \r\n        let addItemEls = cartElements.getAddItemBtnEls();\r\n        let removeItemEls = cartElements.getRemoveItemBtnEls();\r\n\r\n        Array.from(addItemEls,eventListeners.addItemElListener.bind(cartModel));\r\n\r\n        Array.from(removeItemEls,eventListeners.removeItemElListener.bind(cartModel));\r\n\r\n    };\r\n\r\n    function updateCartUI(cartItem){\r\n        let itemTotalCount = cartItem.quantity;\r\n        let itemTotalAmount = cartItem.getTotalAmount();\r\n        let cartTotalCount = cartModel.getTotalQty();\r\n        let cartTotalAmount = cartModel.getTotalAmount();\r\n\r\n        cartView.updateCartItemCount(cartItem.id,itemTotalCount);\r\n        cartView.updateCartItemAmount(cartItem.id,itemTotalAmount);\r\n        cartView.updateCartTotalCount(cartTotalCount);\r\n        cartView.updateCartTotalAmount(cartTotalAmount);\r\n    }\r\n\r\n})();\r\n\r\n","import '../static/style.scss';\r\nimport './cart/cartController.js';\r\n"],"sourceRoot":""}